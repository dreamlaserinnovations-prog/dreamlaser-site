<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Blog | Dream Laser Innovations</title>
  <meta name="description" content="Industrial engraving insights, materials, and real-world use cases." />
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#0b0f14;color:#e9eef5;line-height:1.55}
    .wrap{max-width:1100px;margin:0 auto;padding:28px 20px}
    a{color:#4aa3ff;text-decoration:none}
    .muted{color:#a8b3c3}
    h1{margin:0 0 10px}
    .top{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:#a8b3c3;font-size:13px}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
    @media (max-width: 900px){.grid{grid-template-columns:1fr}}
    .card{background:rgba(15,22,32,.75);border:1px solid rgba(255,255,255,.12);border-radius:18px;overflow:hidden}
    .card img{width:100%;height:170px;object-fit:cover;display:block}
    .meta{padding:14px}
    .meta b{display:block;font-size:18px;margin-bottom:6px;color:#e9eef5}
    .meta .small{font-size:13px;color:#a8b3c3}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <p style="margin:0"><a href="/">‚Üê Back to Home</a></p>
      <span class="pill">Updates & Guides</span>
    </div>
    <h1>Blog</h1>
    <p class="muted">Latest posts from Dream Laser Innovations.</p>

    <div class="grid" id="posts"></div>
  </div>

  <script>
  (async function(){
    const el = document.getElementById('posts');
    try{
      const res = await fetch('/posts-feed.json', {cache:'no-store'});
      if(!res.ok) throw new Error('posts-feed.json not found');
      const posts = await res.json();
      el.innerHTML = posts.map(p => {
        const img = p.image || '/uploads/work1.png';
        const date = p.date ? new Date(p.date).toLocaleDateString() : '';
        const excerpt = (p.excerpt || '').replace(/<[^>]*>/g,'').replace(/\s+/g,' ').trim();
        return `
          <a class="card" href="${p.url}">
            <img src="${img}" alt="${escapeHtml(p.title||'Post')}" loading="lazy" />
            <div class="meta">
              <b>${escapeHtml(p.title||'')}</b>
              ${date ? `<div class="small">${date}</div>` : ''}
              ${excerpt ? `<div class="small" style="margin-top:10px;">${escapeHtml(excerpt)}</div>` : ''}
            </div>
          </a>`;
      }).join('');
    }catch(e){
      el.innerHTML = '<div class="card"><div class="meta"><div class="small">Posts are not available yet.</div></div></div>';
    }

    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
  })();
  </script>
</body>
</html>
